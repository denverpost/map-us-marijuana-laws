<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>U.S. Marijuana Laws</title>
    <!-- Thanks to this great tutorial: http://data-map-d3.readthedocs.io/en/latest/index.html -->
    <!-- CSS libraries -->
    <link href="http://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Oswald:700" rel="stylesheet">
    <!-- Custom CSS styles -->
    <link href="style.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div class="container">
        <div class="row">
            <h3 class="nine columns">U.S. Cannabis Laws</h3>
            <!-- <select id="select-key" class="three columns">
                <option value="urban" selected="selected">Urban area in %</option>
                <option value="agriculture">Agricultural area in %</option>
                <option value="forest">Forest area in %</option>
                <option value="unproductive">Unproductive area in %</option>
            </select> -->
        </div>
        <div id="map">
            <!-- Map container -->
        </div>
        <div id="legend-new">
            <!-- Legend container -->
        </div>
        <div id="details" class="hidden row">
            <!-- Details container -->
        </div>
        <div id="initial" class="row">
            <div class="six columns">
                <h5>Instructions</h5>
                <ul>
                    <li>Change the key using the dropdown above the map.</li>
                    <li>Select a municipality to show the details.</li>
                    <li>Scroll in the map to zoom in and out.</li>
                </ul>
            </div>
            <div class="six columns">
                <h5>Code</h5>
                <p>This map was created for the <a href="http://www.webmap.unibe.ch/" target="_blank">webmap workshop</a> being held on January 20-21 2016 at the University of Bern.</p>
                <p>Check out the <a href="http://data-map-d3.readthedocs.org" target="_blank">tutorial</a> or have a look at the <a href="https://github.com/lvonlanthen/data-map-d3/" target="_blank">code</a>.</p>
            </div>
        </div>
        <div class="footer">
            <strong>Data sources</strong>: National Conference of State Legislatures, National Organization for the Reform of Marijuana Laws
        </div>
    </div>
    <!-- Mustache template, rendered later to show the details of a feature -->
    <script id="template" type="x-tmpl-mustache">
        <h3 class="six columns state-name">{{ state }}</h3>
        <table class="five columns">
            <tr>
                <th>Recreational:</th>
                <td>{{ recreational }} </td>
            </tr>
            <tr>
                <th>Medical:</th>
                <td>{{ medical }} </td>
            </tr>
            <tr>
                <th>CBD law:</th>
                <td>{{ cbd }} </td>
            </tr>
            <tr>
                <th>Decriminalized:</th>
                <td>{{ decriminalization }} </td>
            </tr>
            <tr>
                <th>Mandatory sentencing:</th>
                <td>{{ mandatorysentencing }} </td>
            </tr>
            <tr>
                <th>Ballot measure:</th>
                <td>{{ ballot }} </td>
            </tr>
            <tr>
                <th>Story archive:</th>
                <td><a target="_blank" href="{{ statelink }}">{{ state }} pot articles</a> </td>
            </tr>
        </table>
        <a href="#" id="close-details" class="one column" onclick="hideDetails(); return false;">&#x274c;</a>
    </script>
    <!-- JS libraries -->
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.2.1/mustache.min.js"></script>
    <!-- Custom JS code -->
    <script src="map.js"></script>
</body>

</html>
